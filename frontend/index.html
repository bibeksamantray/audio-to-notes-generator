<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Lecture Voice-to-Notes Generator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <h1>AI-Powered Lecture Voice-to-Notes</h1>
      <p class="subtitle">
        Upload or record lectures, transcribe with Whisper, and generate study notes using a local LLM.
      </p>
    </header>

    <main class="app-container">
      <section class="upload-section card">
        <h2>1. Upload or Record Lecture Audio</h2>
        <form id="upload-form">
          <div class="form-row">
            <label for="title">Title *</label>
            <input type="text" id="title" name="title" required />
          </div>

          <div class="form-row">
            <label for="course">Course</label>
            <input type="text" id="course" name="course" placeholder="e.g., Operating Systems" />
          </div>

          <div class="form-row">
            <label for="lecturer">Lecturer</label>
            <input type="text" id="lecturer" name="lecturer" placeholder="Dr. Smith" />
          </div>

          <div class="form-row">
            <label for="lecture_date">Date</label>
            <input type="date" id="lecture_date" name="lecture_date" />
          </div>

          <div class="form-row">
            <label>Audio File</label>
            <input type="file" id="audio_file" name="audio_file" accept="audio/*" />
          </div>

          <div class="form-row">
            <span class="divider">OR</span>
          </div>

          <div class="form-row">
            <label>Record from Microphone</label>
            <div class="record-controls">
              <button type="button" id="record-btn">Start Recording</button>
              <span id="record-status" class="record-status">Idle</span>
            </div>
          </div>

          <div class="form-row">
            <button type="submit" id="upload-submit">Upload &amp; Transcribe</button>
          </div>
        </form>
      </section>

      <section class="list-section card">
        <h2>2. Lectures</h2>
        <ul id="lecture-list" class="lecture-list"></ul>
      </section>

      <section class="detail-section card">
        <h2>3. Transcript &amp; Notes</h2>
        <div id="lecture-detail-empty" class="placeholder">
          Select a lecture to view its transcript and notes.
        </div>
        <div id="lecture-detail" class="lecture-detail hidden">
          <div class="detail-header">
            <div>
              <h3 id="detail-title"></h3>
              <p id="detail-meta" class="detail-meta"></p>
              <p id="detail-status" class="detail-status"></p>
            </div>
            <div class="detail-actions">
              <button id="generate-notes-btn">Generate Notes</button>
              <button id="export-pdf-btn">Export PDF</button>
              <button id="export-txt-btn">Export Text</button>
            </div>
          </div>

          <div class="detail-columns">
            <div class="detail-column">
              <h4>Transcript</h4>
              <pre id="detail-transcript" class="scroll-box"></pre>
            </div>
            <div class="detail-column">
              <h4>AI-Generated Notes</h4>
              <pre id="detail-notes" class="scroll-box"></pre>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <span>Runs 100% locally using faster-whisper, a local LLM (Ollama), FastAPI, and MongoDB.</span>
    </footer>

    <script src="app.js"></script>
  </body>
  </html>

